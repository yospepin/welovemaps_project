---
title: "STAT212_Milestone2"
author: "Ellie, Iris, Yosephine"
format: 
  html:
    embed-resources: true
---

TO-DO:

* In a Milestone2.qmd file, complete the steps in your plan from Milestone 1 (the plan with feedback from the instructional team).

* At the bottom of Milestone2.qmd, write a plan for further pursuing your 2-3 broad questions. Make sure that the steps in this plan are reasonable to complete in the next few weeks for Milestone 3 (which involves writing a short blog with initial data story (your results so far). You will receive feedback on this plan and will be expected to integrate this feedback for Milestone 3. Questions to think about as you develop this plan:

Do your 2-3 original broad questions need to be revised?
What additional information and context (news articles, journal articles, expert interview, etc.) do you need to understand the data?
Is it time to start looking for additional datasets?

```{r}
sessionInfo()
```

```{r}
# Load necessary libraries
library(readr)

# Read the CSV file
data <- read_csv("../data/CAINC4/CAINC4_MN_1969_2022.csv")


# Display the first few rows
head(data)
```

```{r include=FALSE}
# Check the structure of the dataset (column names, types, etc.)
str(data)

# Get a summary of the dataset (min, max, mean for numerical columns)
summary(data)

# Check for any missing values in the dataset
colSums(is.na(data))

```

```{r}
unique(data$Description)
```

```{r}
# Filter for Personal income and Per capita personal income
filtered_data <- data[data$Description %in% c("Personal income (thousands of dollars)", "Per capita personal income (dollars) 4/"), ]



# Display the structure of the filtered dataset
str(filtered_data)

# View the first few rows of the filtered dataset
head(filtered_data)
```

```{r}
# Remove the specified columns from the dataset
filtered_data <- filtered_data[, !(names(filtered_data) %in% c("Region", "LineCode", "TableName", "IndustryClassification", "Unit"))]

# Display the structure of the updated dataset to verify the changes
str(filtered_data)

# View the first few rows of the cleaned dataset
head(filtered_data)
```
```{r}
# Remove rows with NA values
filtered_data <- na.omit(filtered_data)

# Display the structure of the cleaned dataset to verify
str(filtered_data)

# View the first few rows of the cleaned dataset
head(filtered_data)
```




